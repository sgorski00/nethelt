Table devices {
  id integer [primary key]
  user_id integer [not null]
  name varchar [not null]
  ip_address varchar [not null]
  port integer
  device_type varchar [not null, default: "lan_client"]
  created_at timestamp
  updated_at timestamp
  deleted_at timestamp
}

Table users {
  id integer [primary key]
  username varchar [not null, unique]
  email varchar [not null, unique]
  password_hash varchar
  role_id integer [not null]
  created_at timestamp
  updated_at timestamp
  deleted_at timestamp
}

Table roles {
  id integer [primary key]
  name varchar [unique, not null]
}

Table device_operations {
  id integer [primary key]
  device_id integer [not null]
  operation_type_id integer [not null]
  schedule_interval integer [not null, note: "in seconds"]
  is_anomaly_detection_enabled boolean [not null, default: false]
  created_at timestamp
  updated_at timestamp
  deleted_at timestamp
}

Table operation_types {
  id integer [primary key]
  name varchar [note: "ping, telnet"]
}

Table notifications {
  id integer [primary key]
  operation_id integer [not null]
  event_type varchar [not null, default: "anomaly", note: "at start only anomaly"]
  channel varchar [not null, note: "eg. 'email', 'sms', 'pushup'"]
  is_enabled boolean [not null, default: true]
  created_at timestamp
  updated_at timestamp
}

Table device_operation_stats {
  id integer [primary key]
  operation_id integer [not null]
  response_time_ms integer
  status varchar [note: "eg. 'success', 'failure', 'timeout'"]
  received_at timestamp
}

Table anomaly_logs {
  id integer [primary key]
  operation_id integer [not null]
  anomaly_type varchar [not null, note: "eg. 'latency_spike', 'packet_loss', 'unavailable'"]
  severity varchar [note: "eg. 'low', 'medium', 'high'"]
  description text
  detected_at timestamp
}

Ref: roles.id > users.role_id
Ref: users.id < devices.user_id
Ref: devices.id < device_operations.device_id
Ref: device_operations.id < notifications.operation_id
Ref: device_operations.id < device_operation_stats.operation_id
Ref: anomaly_logs.operation_id > device_operations.id
Ref: operation_types.id < device_operations.operation_type_id